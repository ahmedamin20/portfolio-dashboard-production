import{g as f,j as e,B as S,u as b,r as u,f as h,c as g,d as p}from"./index-1w7hjozq.js";import{u as x}from"./useSkillLogic-BidZvtCa.js";import{t as j}from"./toastHelper-DJmUWLY0.js";import{C as v,a as F,b as C}from"./CustomFIleInput-eQwuR2RD.js";import"./routeHelper-BracJdRh.js";const L=f({}),N=({inUpdate:t,formikObject:a,loading:n,formRef:m})=>{const{handleSubmit:d,values:i,errors:s,handleBlur:r,handleChange:o,isSubmitting:c,setFieldValue:l}=a;return j(n),e.jsxs(e.Fragment,{children:[e.jsx(S,{pageName:t?"Edit Skill":"Add Skill"}),e.jsx("div",{className:"grid grid-cols-1 gap-9",children:e.jsx("div",{className:"flex flex-col gap-9",children:e.jsx("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:e.jsx("form",{ref:m,onSubmit:d,action:"#",children:e.jsxs("div",{className:"p-6.5",children:[e.jsx(v,{onBlur:r,onChange:o,value:i.name,label:"Name",required:!0,name:"name",invalid:s.name&&!0,error:s.name,placeholder:"Enter skill name"}),e.jsx(F,{onChange:k=>l("image",k.target.files[0]),name:"image",label:"Image",value:i.image}),e.jsx(C,{disabled:c})]})})})})})]})},B={_id:"",name:"",image:""},D=()=>{const{getOneSkillLogic:t,oneSkill:a,oneLoading:n,updateSkillLogic:m,storeSkillLogic:d}=x(),{_id:i}=b(),s=u.useRef(),r=i!==void 0;console.log(a,"oneSkill");const o=h({initialValues:r?{_id:a._id,name:a.name,image:a.image}:B,validationSchema:L,onSubmit:c=>{const l=new FormData(s.current);r?m(l,i,g(o)):d(l,g(o))}});return u.useEffect(()=>{r&&t(i)},[]),e.jsx(N,{formRef:s,inUpdate:r,formikObject:p(o),loading:n})};export{D as default,B as emptySkill};
